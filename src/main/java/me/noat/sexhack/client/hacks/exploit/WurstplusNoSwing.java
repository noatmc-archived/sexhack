package me.noat.sexhack.client.hacks.exploit;

import me.noat.sexhack.client.event.events.WurstplusEventPacket;
import me.noat.sexhack.client.event.events.WurstplusEventSwing;
import me.noat.sexhack.client.guiscreen.settings.Setting;
import me.noat.sexhack.client.hacks.Module;
import me.noat.sexhack.client.hacks.WurstplusCategory;
import me.zero.alpine.fork.listener.EventHandler;
import me.zero.alpine.fork.listener.Listener;
import net.minecraft.network.play.client.CPacketAnimation;
import net.minecraft.util.EnumHand;

public class WurstplusNoSwing extends Module {

    Setting mode = create("Mode", "NoSwingMode", "Full", combobox("Full", "Packet", "Offhand"));
    @EventHandler
    public Listener<WurstplusEventPacket.SendPacket> listener = new Listener<>(event -> {
        if (event.get_packet() instanceof CPacketAnimation && mode.in("Packet")) {
            event.cancel();
        }
    });
    @EventHandler
    public Listener<WurstplusEventSwing> listener_ = new Listener<>(event -> {
        if (mode.in("Full")) event.cancel();
        else if (mode.in("Offhand")) event.hand = EnumHand.OFF_HAND;
    });

    public WurstplusNoSwing() {
        super(WurstplusCategory.WURSTPLUS_EXPLOIT);

        this.name = "No Swing";
        this.tag = "NoSwing";
        this.description = "ill swing u init fam";
    }


}